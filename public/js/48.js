(window.webpackJsonp=window.webpackJsonp||[]).push([[48,60],{"38S9":function(t,e,a){"use strict";a.r(e);var n={props:{value:{type:String,default:null}},data:function(){return{content:this.value}},mounted:function(){this.autosize()},watch:{value:function(t){this.content=t}},methods:{autosize:function(){this.$el.style.height="inherit";var t=window.getComputedStyle(this.$el),e=parseInt(t.getPropertyValue("border-top-width"),10)+parseInt(t.getPropertyValue("padding-top"),10)+this.$el.scrollHeight+parseInt(t.getPropertyValue("padding-bottom"),10)+parseInt(t.getPropertyValue("border-bottom-width"),10);this.$el.style.height=e+"px"}}},s=a("KHd+"),r=Object(s.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-textarea w-full block resize-none",domProps:{value:t.content},on:{input:[function(e){e.target.composing||(t.content=e.target.value)},function(e){t.autosize(),t.$emit("input",t.content)}]}})}),[],!1,null,null,null).exports,i=a("eeMe"),l=a.n(i),o={components:{VTextareaExapandable:r},props:{value:{type:String,default:null},taskUuid:{type:String,required:!0},projectUuid:{type:String,required:!0}},data:function(){return{content:this.value,attachments:[],dropzone:null}},watch:{value:function(t){this.content=t}},mounted:function(){var t=this;this.dropzone=new l.a(this.$refs.dz,{clickable:this.$refs.btn_attach,headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},url:route("app:project.task.attachments.store",{project:this.projectUuid,task:this.taskUuid}),previewTemplate:this.$refs.attachment.innerHTML}),this.dropzone.on("success",(function(e,a){e.previewElement.querySelector(".dz-progress").remove(),t.attachments.push(a.uuid)}))},methods:{submit:function(){var t=this;this.$inertia.post(route("app:project.task.comments.store",{project:this.projectUuid,task:this.taskUuid}),{content:this.content,attachments:this.attachments}).then((function(){t.$emit("submitted"),t.reset()}))},reset:function(){this.content="",this.attachments=[],this.dropzone.removeAllFiles(!0)}}},c=Object(s.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-col rounded-lg shadow-sm border border-gray-300"},[a("v-textarea-exapandable",{staticClass:"border-none shadow-none focus:outline-none focus:shadow-none rounded-lg",attrs:{placeholder:"Write somthing.."},on:{input:function(e){return t.$emit("input",t.content)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),a("div",{staticClass:"mt-2 px-3 pb-3 flex items-center justify-between"},[a("div",[a("button",{staticClass:"btn btn-sm btn-indigo",attrs:{type:"button",disabled:!t.content},on:{click:function(e){return t.submit()}}},[a("svg",{staticClass:"w-3 h-3 mr-1.5 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M0 0l20 10L0 20V0zm0 8v4l10-2L0 8z"}})]),t._v("\n                Send\n            ")])]),t._v(" "),a("div",[a("span",{staticClass:"btn-group shadow-none"},[a("button",{ref:"btn_attach",staticClass:"btn btn-sm btn-flat",attrs:{type:"button"}},[a("svg",{staticClass:"w-4 h-4",attrs:{viewBox:"0 0 20 20",fill:"currentColor"}},[a("path",{attrs:{d:"M15 3H7a7 7 0 1 0 0 14h8v-2H7A5 5 0 0 1 7 5h8a3 3 0 0 1 0 6H7a1 1 0 0 1 0-2h8V7H7a3 3 0 1 0 0 6h8a5 5 0 0 0 0-10z"}})])])])])]),t._v(" "),a("div",{ref:"dz",staticClass:"flex flex-col"}),t._v(" "),a("script",{ref:"attachment",attrs:{type:"text/x-template"}},[t._v('\n        <div class="flex flex-col">\n            <div class="pl-3 pr-4 py-3 flex items-center justify-between text-sm leading-5">\n                <div class="w-0 flex-1 flex items-center">\n                    <svg class="flex-shrink-0 h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">\n                        <path fill-rule="evenodd" d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z" clip-rule="evenodd"></path>\n                    </svg>\n\n                    <span class="ml-2 truncate" data-dz-name></span>\n                </div>\n\n                <div class="ml-4 flex-shrink-0">\n                    <button type="button" class="btn btn-flat btn-xs" data-dz-remove>\n                        <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 fill-current">\n                            <path d="M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"></path>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n\n            <div class="dz-progress flex w-full h-1 rounded-b-lg px-4 mb-4">\n                <span class="dz-upload block bg-indigo-200" data-dz-uploadprogress></span>\n            </div>\n        </div>\n    ')])],1)}),[],!1,null,null,null);e.default=c.exports},q6nj:function(t,e,a){"use strict";a.r(e);var n={components:{VTaskCommentEditor:a("38S9").default},props:{projectUuid:{type:String,required:!0},taskUuid:{type:String,required:!0},user:{type:Object,required:!0},createdAt:{type:String,required:!0},content:{type:String,required:!0},attachments:{type:Array,default:[]}}},s=a("KHd+"),r=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex mt-6 pb-4"},[a("div",{staticClass:"w-12 flex-shrink-0"},[a("img",{staticClass:"avatar avatar-sm",attrs:{src:t.user.avatar_url,alt:"avatar"}})]),t._v(" "),a("div",{staticClass:"flex flex-col flex-1"},[a("div",{staticClass:"flex items-center justify-between"},[a("div",[a("span",{staticClass:"text-sm leading-5 font-medium text-indigo-600"},[t._v(t._s(t.user.name))])]),t._v(" "),a("div",[a("span",{staticClass:"text-xs text-gray-500"},[t._v(t._s(t.createdAt))])])]),t._v(" "),a("div",{staticClass:"mt-2"},[a("p",{staticClass:"leading-5 text-gray-900"},[t._v(t._s(t.content))])]),t._v(" "),t.attachments.length>0?a("ul",{staticClass:"border border-gray-200 rounded-md mt-4"},t._l(t.attachments,(function(e){return a("li",{staticClass:"pl-3 pr-2 py-3 flex items-center justify-between text-sm leading-5"},[a("div",{staticClass:"w-0 flex-1 flex items-center"},[a("svg",{staticClass:"flex-shrink-0 h-5 w-5 text-gray-400",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"}})]),t._v(" "),a("a",{staticClass:"hover:underline",attrs:{href:t.route("app:project.attachments.download",{project:t.projectUuid,attachment:e.uuid})}},[a("span",{staticClass:"ml-2 truncate"},[t._v(t._s(e.filename))])])]),t._v(" "),a("div",{staticClass:"ml-4 flex-shrink-0"},[a("a",{staticClass:"btn btn-flat btn-xs",attrs:{href:t.route("app:project.attachments.download",{project:t.projectUuid,attachment:e.uuid}),title:"Download"}},[a("svg",{staticClass:"w-3 h-3 fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"}})])])])])})),0):t._e()])])}),[],!1,null,null,null);e.default=r.exports}}]);
//# sourceMappingURL=48.js.map?id=a5ff54e6b54e0892c5c5